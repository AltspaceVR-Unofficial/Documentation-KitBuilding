# Adding Physics To AltSpace Kits
****
## Intro
AltSpace includes access to a number of default kits; As some may have noticed, some of these kits include objects with physics. For example, there is a basketball, which bounces when you throw it, and behaves somewhat like an actual basketball. _However_, default kit items do not exhibit and sort of custom physics. — They are more or less treated like solid, almost plastic, objects.

It has recently been discovered (by MisutaaUrufu), however, that there is a way to use Unity Rigidbody physics, a part of the Unity engine of which AltSpace is built on. This document seeks to explore these findings. — _Please not that **this documenation may be incomplete, contain inacuracies, and has been created for educational purposes only**. Information within has been discovered through trial and error, and should in no way be taken as proper documentation. Information is also subject to change with updates to AltSpace in the future._

### How AltSpace (Seemingly) Handles Physics
When properly configured, these behaviors have been witnessed:
1. Physics are only applied _once the object has been interacted with_; _I.E._, physics are only applied to objects marked as `Object Spawner` through the in-world `Editor Panel`, and _only after being picked up_.
2. Until physics are applied, objects are stationary, and _cannot be moved by the physics of another object_. — Sorry, no bowling. :(
3. All objects with physics applied _can interact_ with each other, but physics _only continue up until the object is respawned_ by AltSpace. — See previous note for more on this behavior.
****
## Getting Started
To get started you first need to prep and create your kit as normal, **_up to, but no further than, the final building steps_**, as documented officially at https://help.altvr.com/hc/en-us/articles/360016344513-How-do-I-upload-my-own-Kits (**Part 2, Step 3**).

Once your objects have been generated by the Unity Uploader, navigate to _`Prefabs > [your kit id]_[your kit name]`_ in the **Asset Browser**, and double-click on the object you wish to apply physics to.

## Basic Physics
1. In the **Editor** pane (_Often reffered to as the "Scene Editor"_), you will see the following general layout:<sup>a</sup>
```
▼ [your kit id]_[your item name]
	▼ model
		▶ [your item and its children]
	▶ collider
```
Select the topmost object (`[your kit id]_[your item name]`). _Unlike Scenes, Prefab objects themselves **are Game Objects**, and can have elements added to them as any other object._

2. Once you select this object, in the **Inspector** pane, select `Add Component`, then navigate to `Physics` and select `Rigidbody`.
3. In the newly created `Rigidbody` section, you will want to configure these things:
	- `Mass` — This is how heavy the object is _relative to its size_. For example, a bowling ball might have a mass of "3".
	- `Drag` — This effects how much "drag" or force is applied to slow its _angular_ motion. [The higher the value, the faster it slows to a stop.](https://docs.unity3d.com/ScriptReference/Rigidbody-drag.html)
	- `Angular Drag` — This is similar to `Drag`, but effects its _rotation_, not motion. [The higher the value, the faster it stops rotating.](https://docs.unity3d.com/ScriptReference/Rigidbody-angularDrag.html)
	- `Is Kinematic` — **This must be checked**. Kinematic means that the object can be moved by its coordinates.<sup>b</sup>
	- ` Collision Detection` — **This must be set to `Continuous Speculative`**, as otherwise fast moving objects may clip through ground or other objects.
4. Save (`Ctrl + S` on Windows, `Command (⌘) + S` on macOS.)

## Physics Behaviors (Bouncing, Friction)
To add behavior such as bouncing, as well as applying friction phyiscs to your object, you will need what is known as a _Physic Material_.
1. In the **Asset Browser**, create a folder in the _root_ `Assets` directory, and name it "Physics".
2. Inside `Physics`, right-click, and `Create` a new `Physic Material`. Name it.
3. Click the newly created _physic material_ and look to the **Inspector** panel.
4. Configure these options, as [documented by Unity documentation](https://docs.unity3d.com/Manual/class-PhysicMaterial.html):
	- `Dynamic Friction` — The amount of friction to used when the object is moving. "_A value of zero feels like ice, [whilst] a value of 1 will make it come to rest very quickly unless a lot of force or gravity pushes the object_".
	- `Static Friction` — The amount of friction applied when the object is sitting still. "_A value of zero feels like ice, [whilst] a value of 1 will make it very hard to get the object moving._"
	- Bounciness — How bouncy, or rubbery, an object behaves. "_A value of 0 will not bounce. A value of 1 will bounce without any loss of energy_"
5. In the **Editor** pane, _with the prefab open as documented in [Getting Started](#getting-started)_, select either `collider`, **or the game object which contains your collider** (_if not using the default collider_).
6. In the collider properties, in the **Inspector** pane, there will be a section labeled `Material` with a value of `None (Physic Material)`.
7. Drag your newly configured _physic material_ from steps 1. - 4. to this box.
8. Save (`Ctrl + S` on Windows, `Command (⌘) + S` on macOS.)

## Additional Setup
_Note: Whilst it is unknown whether this step is required, it has not been tested without it, and may result in undesired behaviour. As such, it is recommended you follow these directions._
1. Open `Project Settings`.
2. Navigate to `Physics` and locate `Contact Pairs Mode`.
3. Set this to `Enable All Contact Pairs`.<sup>c</sup>

## Final Steps
Finish the [official building steps](https://help.altvr.com/hc/en-us/articles/360016344513-How-do-I-upload-my-own-Kits) for your kit, starting from **Part 2, Step 5.** ("Load Kit Prefab Directories") — **_Do NOT repeat earlier steps, as "recreating" the prefabricated objects risks removing or breaking the physics on your object._**
****
## Notes
<sup>a</sup> For those who have more customized kit prefabs and are familiar with kit creation, this layout may vary. Likewise, _for those with custom colliders **only**_, you may hav already removed the default collider (and should if you have not already).

<sup>b</sup> Normally, Rigidbodies must be moved by their rigidbody values, and physics will constantly be active. If Rigidbody objects are to be moved by their "transform" value, as AltSpace does when placing and editing objects, this must be enabled. — Failure to do so will cause the objects to "fall" out of their editor box, making them difficult to place; cannot be placed in the air, and may exhibit strange spawn behaviors when loading the world.

<sup>c</sup> Whilst unknown if this is necessary, Unity documentation states that setting this to `All Contact Pairs` allows kinematic objects to interact with _dynamic_ and _static_ objects. — Kinematics usually can only collide with other kinematics, so in theory, without this objects would fall through the floor, and fail to collide with any object.
